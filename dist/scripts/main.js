"use strict";$(document).ready(function(){var t="selectedStoreId",e=$("#cd-store-selector"),a=$("#datepicker"),o=$("#discount-amount-selector"),n=$("#dicountgen-form");$(e).select2({theme:"bootstrap"}),$(e).on("select2:select",function(a){localStorage.setItem(t,$(e).val())});var r=localStorage.getItem(t);if(null!==r)$(e).val(r).trigger("change");else{var c=$(e)[0].length;$(e).val(e[0][Math.floor(Math.random()*c)].value).trigger("change")}a.pickadate({min:moment().toDate(),onStart:function(){this.set("select",newValidRandomMoment().toDate())}}),$(n).on("submit",function(t){t.preventDefault();var r=$(o).val(),c=moment(a.data().pickadate.get("select")),i=$(e).val(),l=createBarcodeText(c,i,r);return displayBarcode(l),"undefined"!=typeof clicky&&null!==clicky&&clicky.log("?"+n.serialize(),"Home"),!1})});var createBarcodeText=function(t,e,a){var o=moment([2007,3,16]),n=t.subtract(1,"month").diff(o,"days"),r="22"+n.toString()+e.substring(1)+(50+parseInt(a)).toString()+"1";return r},newValidRandomMoment=function(){var t=moment().add(Math.floor(11*Math.random())+15,"days");return t},displayBarcode=function(t){$("#barcode").JsBarcode(t,{format:"EAN13",background:"#FFFFFF",lineColor:"#000000",fontSize:20,height:100,width:3,margin:10,textMargin:1,displayValue:!0,font:"monospace",fontOptions:"",textAlign:"center",textPosition:"top"})};