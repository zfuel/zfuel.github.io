"use strict";var tag_selectedStoreId="selectedStoreId";$(document).ready(function(){var t=$("#cd-store-selector"),e=$("#datepicker"),o=$("#discount-amount-selector"),a=$("#dicountgen-form");$(t).select2({theme:"bootstrap"});var n=localStorage.getItem(tag_selectedStoreId);null!==n&&$(t).val(n).trigger("change"),e.pickadate({min:moment().toDate(),onStart:function(){this.set("select",newValidRandomMoment().toDate())}}),$(a).on("submit",function(n){n.preventDefault();var r=$(o).val(),c=moment(e.data().pickadate.get("select")),i=$(t).val(),d=createBarcodeText(c,i,r);return displayBarcode(d),"undefined"!=typeof clicky&&null!==clicky&&clicky.log("?"+a.serialize(),"Home"),!1})});var createBarcodeText=function(t,e,o){var a=moment([2007,3,16]),n=t.subtract(1,"month").diff(a,"days"),r="22"+n.toString()+e.substring(1)+(50+parseInt(o)).toString()+"1";return r},newValidRandomMoment=function(){var t=moment().add(Math.floor(11*Math.random())+15,"days");return t},displayBarcode=function(t){$("#barcode").JsBarcode(t,{format:"EAN13",background:"#FFFFFF",lineColor:"#000000",fontSize:20,height:100,width:3,margin:10,textMargin:1,displayValue:!0,font:"monospace",fontOptions:"",textAlign:"center",textPosition:"top"})};